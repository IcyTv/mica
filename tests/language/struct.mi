# Tests the ability to create and implement structs.

# Two defined struct types are never equal to each other.
struct Test
struct Other
assert(Test == Test)
assert(Other == Other)
assert(Test != Other)

# A struct item returns nil.
assert(do
   struct Test2
end == nil)

# A struct can be implemented with arbitrary methods.
struct Greetings

impl Greetings
   func get(for_whom) static
      "Hello, ".cat(for_whom).cat("!")
   end
end

assert(Greetings.get("World") == "Hello, World!")

# A struct can have a constructor that sets its fields up.
# It can also have instance methods.
struct Vector

impl Vector
   func new(x, y) constructor
      @x = x
      @y = y
   end

   func x() @x end
   func y() @y end
end

v = Vector.new(1, 2)
assert(v.x == 1)
assert(v.y == 2)
